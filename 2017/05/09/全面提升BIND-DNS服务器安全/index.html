<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="Life &amp; Work Essays."><title>全面提升BIND DNS服务器安全 | Netb2c's Blog</title><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/5.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/grids-responsive-min.css"><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">全面提升BIND DNS服务器安全</h1><a id="logo" href="/.">Netb2c's Blog</a><p class="description">We'd better struggle for the future rather than regret for the past.</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">全面提升BIND DNS服务器安全</h1><div class="post-meta">May 9, 2017<span> | </span><span class="category"><a href="/categories/安全/">安全</a><a href="/categories/安全/bind/">bind</a><a href="/categories/安全/bind/DNS/">DNS</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><a data-thread-key="2017/05/09/全面提升BIND-DNS服务器安全/" href="/2017/05/09/全面提升BIND-DNS服务器安全/#comments" class="ds-thread-count"></a><div class="clear"><div id="toc" class="toc-article"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#文章简介"><span class="toc-number">1.</span> <span class="toc-text">文章简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DNS服务所面临的安全隐患"><span class="toc-number">2.</span> <span class="toc-text">DNS服务所面临的安全隐患</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-DNS欺骗"><span class="toc-number">2.1.</span> <span class="toc-text">1.DNS欺骗</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-拒绝服务攻击"><span class="toc-number">2.2.</span> <span class="toc-text">2.拒绝服务攻击</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-分布式拒绝服务攻击"><span class="toc-number">2.3.</span> <span class="toc-text">3.分布式拒绝服务攻击</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-缓冲区漏洞溢出攻击"><span class="toc-number">2.4.</span> <span class="toc-text">4.缓冲区漏洞溢出攻击</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#应对以上这些安全隐患方法有两个最有效的原则："><span class="toc-number">3.</span> <span class="toc-text">应对以上这些安全隐患方法有两个最有效的原则：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-选择安全没有缺陷的DNS版本："><span class="toc-number">3.1.</span> <span class="toc-text">1.选择安全没有缺陷的DNS版本：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-保持DNS服务器配置正确、可靠"><span class="toc-number">3.2.</span> <span class="toc-text">2.保持DNS服务器配置正确、可靠</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#安全加固"><span class="toc-number">4.</span> <span class="toc-text">安全加固</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-隔离DNS服务器"><span class="toc-number">4.1.</span> <span class="toc-text">1.隔离DNS服务器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-隐藏BIND的版本号"><span class="toc-number">4.2.</span> <span class="toc-text">2.隐藏BIND的版本号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-避免透露服务器信息"><span class="toc-number">4.3.</span> <span class="toc-text">3.避免透露服务器信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-关闭DNS服务器的gluefetching选项"><span class="toc-number">4.4.</span> <span class="toc-text">4.关闭DNS服务器的gluefetching选项</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-使用非root权限运行BIND"><span class="toc-number">4.5.</span> <span class="toc-text">5.使用非root权限运行BIND</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-控制区域-zone-传输"><span class="toc-number">4.6.</span> <span class="toc-text">6.控制区域(zone)传输</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-请求限制"><span class="toc-number">4.7.</span> <span class="toc-text">7.请求限制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-其他強化措施："><span class="toc-number">4.8.</span> <span class="toc-text">8.其他強化措施：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-使用DNSSEC"><span class="toc-number">4.9.</span> <span class="toc-text">9.使用DNSSEC</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-为DNS服务器配置DNSFloodDetector"><span class="toc-number">4.10.</span> <span class="toc-text">10.为DNS服务器配置DNSFloodDetector</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-建立完整的域名服务器"><span class="toc-number">4.11.</span> <span class="toc-text">11.建立完整的域名服务器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-增强DNS服务器的防范Dos-DDoS功能"><span class="toc-number">4.12.</span> <span class="toc-text">12.增强DNS服务器的防范Dos/DDoS功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-使用分布式DNS负载均衡"><span class="toc-number">4.13.</span> <span class="toc-text">13.使用分布式DNS负载均衡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14-防范对于DNS服务器网络"><span class="toc-number">4.14.</span> <span class="toc-text">14.防范对于DNS服务器网络</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-及时更新系统补丁"><span class="toc-number">4.15.</span> <span class="toc-text">15.及时更新系统补丁</span></a></li></ol></li></ol></div></div><div class="post-content"><h2 id="文章简介"><a href="#文章简介" class="headerlink" title="文章简介"></a>文章简介</h2><p>本文介绍了当前互联网DNS服务器所存在的隐患（几种典型的DNS攻击方式）及安全加固</p>
<h2 id="DNS服务所面临的安全隐患"><a href="#DNS服务所面临的安全隐患" class="headerlink" title="DNS服务所面临的安全隐患"></a>DNS服务所面临的安全隐患</h2><p>互联网上DNS服务器的事实标准就是ISC的BIND，BillManning对in-addr域的调查发现，有95%的域名服务器(2的2000次方个服务器中)使用的是各种版本的“bind”。这其中包括了所有的DNS根服务器，而这些根服务器对整个服务器的正常运转起着至关重要的作用。<br> DNS服务所面临的安全隐患包括：</p>
<ul>
<li>DNS欺骗（DNSSpoffing）</li>
<li>拒绝服务（Denialofservice，DoS）攻击</li>
<li>分布式拒绝服务攻击（Distributed Denial of Service，DDoS）</li>
<li>缓冲区漏洞溢出攻击（BufferOverflow）</li>
</ul>
<h3 id="1-DNS欺骗"><a href="#1-DNS欺骗" class="headerlink" title="1.DNS欺骗"></a>1.DNS欺骗</h3><p>DNS欺骗即域名信息欺骗是最常见的DNS安全问题。<br>当一个DNS服务器掉入陷阱，使用了来自一个恶意DNS服务器的错误信息，那么该DNS服务器就被欺骗了。DNS欺骗会使那些易受攻击的DNS服务器产生许多安全问题，<br>例如：将用户引导到错误的互联网站点，或者发送一个电子邮件到一个未经授权的邮件服务器。网络攻击者通常通过两种方法进行DNS欺骗。</p>
<ul>
<li><p>（1）缓存感染<br>黑客会熟练的使用DNS请求，将数据放入一个没有设防的DNS服务器的缓存当中。这些缓存信息会在客户进行DNS访问时返回给客户，从而将客户引导到入侵者所设置的运行木马的Web服务器或邮件服务器上，然后黑客从这些服务器上获取用户信息。</p>
</li>
<li><p>（2）DNS信息劫持<br>入侵者通过监听客户端和DNS服务器的对话，通过猜测服务器响应给客户端的DNS查询ID。每个DNS报文包括一个相关联的16位ID号，DNS服务器根据这个ID号获取请求源位置。黑客在DNS服务器之前将虚假的响应交给用户，从而欺骗客户端去访问恶意的网站。</p>
</li>
<li><p>（3）DNS重定向<br>攻击者能够将DNS名称查询重定向到恶意DNS服务器。这样攻击者可以获得DNS服务器的写权限。</p>
</li>
</ul>
<h3 id="2-拒绝服务攻击"><a href="#2-拒绝服务攻击" class="headerlink" title="2.拒绝服务攻击"></a>2.拒绝服务攻击</h3><p>黑客主要利用一些DNS软件的漏洞，如在BIND9版本（版本9.2.0以前的9系列）如果有人向运行BIND的设备发送特定的DNS数据包请求，BIND就会自动关闭。攻击者只能使BIND关闭，而无法在服务器上执行任意命令。如果得不到DNS服务，那么就会产生一场灾难：由于网址不能解析为IP地址，用户将无方访问互联网。这样，DNS产生的问题就好像是互联网本身所产生的问题，这将导致大量的混乱。</p>
<h3 id="3-分布式拒绝服务攻击"><a href="#3-分布式拒绝服务攻击" class="headerlink" title="3.分布式拒绝服务攻击"></a>3.分布式拒绝服务攻击</h3><p>DDOS攻击通过使用攻击者控制的几十台或几百台计算机攻击一台主机，使得服务拒绝攻击更难以防范：使服务拒绝攻击更难以通过阻塞单一攻击源主机的数据流，来防范服务拒绝攻击。SynFlood是针对DNS服务器最常见的分布式拒绝服务攻击。SYNFlood攻击利用的是IPv4中TCP协议的三次握手（Three-WayHandshake）过程进行的攻击。大家知道协议规定，如果一端想向另一端发起TCP连接，它需要首先发送TCPSYN包到对方，对方收到后发送一个TCPSYN+ACK包回来，发起方再发送TCPACK包回去，这样三次握手就结束了。我们把TCP连接的发起方叫作”TCP客户机（TCPClient）”，TCP连接的接收方叫作”TCP服务器（TCPServer）”。</p>
<p>值得注意的是在TCP服务器收到TCPSYNrequest包时，在发送TCPSYN+ACK包回TCP客户机前，TCP服务器要先分配好一个数据区专门服务于这个即将形成的TCP连接。一般把收到SYN包而还未收到ACK包时的连接状态成为半开连接（Half-openConnection）。在最常见的SYNFlood攻击中，攻击者在短时间内发送大量的TCPSYN包给受害者，这时攻击者是TCP客户机，受害者是TCP服务器。根据上面的描述，受害者会为每个TCPSYN包分配一个特定的数据区，只要这些SYN包具有不同的源地址（这一点对于攻击者来说是很容易伪造的）。这将给TCP服务器系统造成很大的系统负担，最终导致系统不能正常工作。</p>
<h3 id="4-缓冲区漏洞溢出攻击"><a href="#4-缓冲区漏洞溢出攻击" class="headerlink" title="4.缓冲区漏洞溢出攻击"></a>4.缓冲区漏洞溢出攻击</h3><p>黑客利用DNS服务器软件存在漏洞，比如对特定的输入没有进行严格检查，那幺有可能被攻击者利用，攻击者构造特殊的畸形数据包来对DNS服务器进行缓冲区溢出攻击。如果这一攻击成功，就会造成DNS服务停止，或者攻击者能够在DNS服务器上执行其设定的任意代码。例如,前一阵子针对Linux平台的BIND的攻击(e.g.Lionworm)程序,就是利用某些版本的BIND漏洞,取得root权限,一旦入侵完成之后,入侵者就可以完全控制整个相关的网络系统,影响非常严重。主要包括：</p>
<ul>
<li><p>（1）更改MX记录，造成邮件被截获、修改或删除。</p>
</li>
<li><p>（2）更改A记录，使您的WWW服务器的域名指向黑客的具有同样WWW内容的主机，诱使访问者登录，获取访问者的密码等相关信息。添加A记录，使黑客的主机拥有被相信的域名，以此来入侵通过启用域名信任机制的系统。</p>
</li>
<li><p>（3）利用这台主机作为攻击其他机器的“跳板”。</p>
</li>
</ul>
<h2 id="应对以上这些安全隐患方法有两个最有效的原则："><a href="#应对以上这些安全隐患方法有两个最有效的原则：" class="headerlink" title="应对以上这些安全隐患方法有两个最有效的原则："></a>应对以上这些安全隐患方法有两个最有效的原则：</h2><h3 id="1-选择安全没有缺陷的DNS版本："><a href="#1-选择安全没有缺陷的DNS版本：" class="headerlink" title="1.选择安全没有缺陷的DNS版本："></a>1.选择安全没有缺陷的DNS版本：</h3><p>BIND主要分为三个版本：</p>
<ul>
<li><p>（1）v4，1998年多数UNIX捆绑的是BIND4，已经被多数厂商抛弃了，除了OpenBSD还在使用。OpenBSD核心人为BIND8过于复杂和不安全，所以继续使用BIND4。这样一来BIND8/9的很多优点都不包括在v4中。</p>
</li>
<li><p>（2）v8，就是如今使用最多最广的版本，其详细内容可以参阅“BIND8+域名服务器安全增强”<a href="http://security.nsfocus.com/showQueryL.asplibID=530" target="_blank" rel="noopener">http://security.nsfocus.com/showQueryL.asplibID=530</a></p>
</li>
<li><p>（3）v9，最新版本的BIND，全部重新写过，免费（但是由商业公司资助），BIND9在2000年十月份推出，根据调查v9版本的BIND是最安全的，它的最新安全版本在其官方网站：<a href="http://www.isc.org/下载下载源代码安装即可。例如使用Linux系统针对拒绝服务攻击只要将BIND9升级为版本9.2.1即可。" target="_blank" rel="noopener">http://www.isc.org/下载下载源代码安装即可。例如使用Linux系统针对拒绝服务攻击只要将BIND9升级为版本9.2.1即可。</a></p>
</li>
</ul>
<h3 id="2-保持DNS服务器配置正确、可靠"><a href="#2-保持DNS服务器配置正确、可靠" class="headerlink" title="2.保持DNS服务器配置正确、可靠"></a>2.保持DNS服务器配置正确、可靠</h3><p>这一点相对困难。Linux上的域名服务由named守护进程控制，该进程从主文件：/etc/named.conf中获取信息。它包括一组将主机名称映射为IP地址的各种文件。<br>Linux下主要DNS配置文件见表一、二、三：<br>表－1DNS主要配置文件点击看大图<br>表－2named配置文件族点击看大图named.conf时DNS中的核心它的配置见表三：<br>表－3named.conf文件的配置点击看大图<br>可以看到DNS配置文件是一个复杂的系统。伴随DNS建立出现的许多问题都会引起相同的结果，但起因却不同。但大多数问题是由于配置文件中的语法错误而导致的。DNS是一组文件构成的，所以需要不同工具检查对应文件。一个配置存在缺陷的DNS服务器会存在很大的安全漏洞。这里可以通过一些工具：nslookup、dig、named-checkzone、host、named-checkconf、dlint等对DNS配置文件进行检查。其中安装BIND软件包时自动安装的工具包括：nslookup、dig、named-checkzone、host、named-checkconf。dlint是一个专门检查DNS配置文件开放源代码软件。可以在<br><a href="http://www.domtools.com/dns/dlint.shtml下载。" target="_blank" rel="noopener">http://www.domtools.com/dns/dlint.shtml下载。</a><br>在维护DNS服务器时，网管员希望知道到底是哪些用户在使用DNS服务器，同时也希望能对DNS状态查询做一个统计。这里我们可以使用dnstop查询DNS服务器状态：<br>软件下载和安装：<br>运行软件：<br>如果想查看通过eth0的DNS网络流量可以使用命令</p>
<p>在运行dnstop的过程中，可以敲入如下命令：s，d，t，1，2，3,ctrl+r，ctrl+x，以交互方式来显示不同的信息。<br>1－（TLD）记录查询的顶级域名，<br>2－（SLD）记录查询的二级域名，<br>3－（SLD）记录查询的三级域名，<br>s－（Source）记录发送dns查询的客户端ip地址表，<br>d－（Destinations）记录dns查询的目的服务器的ip地址表，<br>t－（QueryType）记录查询详细类型。<br>ctrl+r－重新纪录。<br>ctrl+x－退出。更详细信息可以查看mandnstop。</p>
<h2 id="安全加固"><a href="#安全加固" class="headerlink" title="安全加固"></a>安全加固</h2><p>下面以使用最为广泛的Unix类DNS软件BIND为例，介绍如何配置一个安全DNS服务器。本文以RHEL4.0为工作平台。</p>
<h3 id="1-隔离DNS服务器"><a href="#1-隔离DNS服务器" class="headerlink" title="1.隔离DNS服务器"></a>1.隔离DNS服务器</h3><p>首先应该隔离BIND服务器，不应该在DNS服务器上跑其他服务，尽量允许普通用户登陆。减少其它的服务可以缩小被攻击的可能性，比如混合攻击。</p>
<h3 id="2-隐藏BIND的版本号"><a href="#2-隐藏BIND的版本号" class="headerlink" title="2.隐藏BIND的版本号"></a>2.隐藏BIND的版本号</h3><p>通常软件的BUG信息是和特定版本相关的，因此版本号是黑客寻求最有价值的信息。黑客使用dig命令可以查询BIND的版本号，然后黑客就知道这个软件有那些漏洞。因此随意公开版本号是不明智的。隐藏BIND版本号比较简单，修改配置文件：/etc/named.conf，在option部分添加version声明将BIND的版本号信息覆盖。例如使用下面的配置声明，当有人请求版本信息时，迫使nmaed显示：“Unsupportedonthisplatform”</p>
<h3 id="3-避免透露服务器信息"><a href="#3-避免透露服务器信息" class="headerlink" title="3.避免透露服务器信息"></a>3.避免透露服务器信息</h3><p>和版本号一样，也不要轻易透露服务器其他信息。为了让潜在的黑客更难得手，建议不要在DNS配置文件中使用这HINFO和TXT两个资源记录。</p>
<h3 id="4-关闭DNS服务器的gluefetching选项"><a href="#4-关闭DNS服务器的gluefetching选项" class="headerlink" title="4.关闭DNS服务器的gluefetching选项"></a>4.关闭DNS服务器的gluefetching选项</h3><p>当DNS服务器返回一个域的域名服务器纪录并且域名服务器纪录中没有A纪录，DNS服务器会尝试获取一个纪录。就称为gluefetching,攻击者可以利用它进行DNS欺骗。关闭gluefetching是一个好方法，修改配置文件：/etc/named.conf.加入一行：</p>
<h3 id="5-使用非root权限运行BIND"><a href="#5-使用非root权限运行BIND" class="headerlink" title="5.使用非root权限运行BIND"></a>5.使用非root权限运行BIND</h3><p>在Linux内核2.3.99以后的版本中，可以以－u选项以非root权限运行BIND。命令如下：</p>
<p>上面的命令表示以nobody用户身份运行BIND。使用nobody身份运行能够降低缓冲区溢出攻击所带来的危险。</p>
<h3 id="6-控制区域-zone-传输"><a href="#6-控制区域-zone-传输" class="headerlink" title="6.控制区域(zone)传输"></a>6.控制区域(zone)传输</h3><p>默认情况下BIND的区域(zone)传输是全部开放的，如果没有限制那么DNS服务器允许对任何人都进行区域传输的话，那么网络架构中的主机名、主机IP列表、路由器名和路由IP列表，甚至包括各主机所在的位置和硬件配置等情况都很容易被入侵者得到。因此，要对区域传输进行必要的限制。可以通过在／etc／named．conf文件当中添加以下语句来限制区域传输：<br>这样只有IP地址为：从192.168.0.52到192.168.0.109的主机能够同DNS服务器进行区域传输。</p>
<h3 id="7-请求限制"><a href="#7-请求限制" class="headerlink" title="7.请求限制"></a>7.请求限制</h3><p>如果任何人都可以对DNS服务器发出请求，那么这是不能接受的。限制DNS服务器的服务范围很重要，可以把许多入侵者据之门外。修改BIND的配置文件：/etc/named.conf加入以下内容：</p>
<p>这样所有的用户都可以访问yourdomain.com的DNS服务器，但是只有168.192.1.0网段的主机用户可以请求DNS服务器的任意服务。<br>另外也不要允许其他网段的主机进行递归询问，在上面文件最后加入一行即可：</p>
<h3 id="8-其他強化措施："><a href="#8-其他強化措施：" class="headerlink" title="8.其他強化措施："></a>8.其他強化措施：</h3><p>（1）使用存取控制清单(AccessControlLists)，主要目的在于产生地址配对清单。<br>语法：acl“name”{address_match_list};<br>　address_match_list：地址匹对清单。<br>例子：acl“mis”{192.168.200.15,192.168.143.192/26};</p>
<p>（2）使用Forwarders代询服务器机制，它将自己无法解析的查询转送到某特定的服务器。<br>语法：forwardersip_address_liest<br>例子：以下是建议的forwarders设定(在/etc/named.conf中)<br>　orwarders{//指定提供查询的上层DNS。<br>　<a href="http://www.twnic.net.tw;//到上层(twnic)的DNS查询。" target="_blank" rel="noopener">www.twnic.net.tw;//到上层(twnic)的DNS查询。</a><br>　};<br>需注意的是通常我们指定的是到本身上一层dns，但也可能因dns缓存有误而转送到错误的服务器上。</p>
<p>（3）使用allow-transfer：目的在于只允许授权的网域主机能更新、读取DNS辖区内的记录。<br>语法：allow-transfer{&lt;address_match_list&gt;};<br>例子：address_match_list：允许进行DNS辖区数据传输主机的IP列表。</p>
<p>（4）allow-update：目的在于指定能向本dns服务器提交动态dns更新的主机<br>语法：allow-update{&lt;address_match_list&gt;};<br>例子：address_match_list：允许能向本DNS服务器提交动态DNS更新的主机IP列表</p>
<h3 id="9-使用DNSSEC"><a href="#9-使用DNSSEC" class="headerlink" title="9.使用DNSSEC"></a>9.使用DNSSEC</h3><p>DNS欺骗spoofing对目前网络应用,最大的冲击在于冒名者借着提供假的网域名称与网址的对照信息,可以将不知情用户的网页联机,导引到错误的网站,原本属于用户的电子邮件也可能因而遗失,甚而进一步空开成为阻断服务的攻击。所幸,目前较新的BIND版本,针对这一类问题,已经有加入许多改进的方法,不过真正的解决方案,则有赖封包认证机制的建立与推动。DNSSEC就是试图解决这一类问题的全新机制,BIND9已经完整加以设计并完成。DNSSEC引入两个全新的资源记录类型：KEY和SIG，允许客户端和域名服务器对任何DNS数据的来源进行密码验证。<br>DNSSEC主要依靠公钥技术对于包含在DNS中的信息创建密码签名。密码签名通过计算出一个密码hash数来提供DNS中数据的完整性，并将该hash数封装进行保护。私/公钥对中的私钥用来封装hash数，然后可以用公钥把hash数译出来。如果这个译出的hash值匹配接收者刚刚计算出来的hash树，那么表明数据是完整的。不管译出来的hash数和计算出来的hash数是否匹配，对于密码签名这种认证方式都是绝对正确的，因为公钥仅仅用于解密合法的hash数，所以只有拥有私钥的拥有者可以加密这些信息。</p>
<h3 id="10-为DNS服务器配置DNSFloodDetector"><a href="#10-为DNS服务器配置DNSFloodDetector" class="headerlink" title="10.为DNS服务器配置DNSFloodDetector"></a>10.为DNS服务器配置DNSFloodDetector</h3><p>DNSFloodDetector是针对DNS服务器的SynFlood攻击检测工具，用于侦测恶意的使用DNS查询功能。它利用libpcap的网络数据包捕获函数功能检测网络流量来判断是否受到SynFlood攻击，DNSFloodDetctor运行方式分成：守护进程（daemon）模式和后台（bindsnap）模式。以守护进程模式运行时它会通过syslog发出警示(/var/log/messages)，以后台模式运行时可以得到实时的查询状态。<br>下载安装：</p>
<p>命令格式:<br>dns_flood_detector[选项]<br>主要选项：<br>-iIFNAME监听某一特定接口。<br>-tN当每秒查询数量超过N值时发出警示.<br>-aN经过N秒后重置警示。<br>-wN每隔N秒显示状态。<br>-xN创建N个buckets。<br>-mN每隔N秒显示所有状态。<br>-b以后台模式执行(bindsnap)。<br>-d以守护进程模式执行(daemon)。<br>-v显示较多的输出信息。<br>-h显示使用方式。</p>
<p>应用实例:<br>dns_flood_detector-b-v-v–t3见下图。<br>dns_flood_detector工作界面</p>
<p>messages的纪录：以守护进程模式执行,纪录每秒超过3次查询的纪录,显示最多信息,包含APTRMX纪录等。</p>
<h3 id="11-建立完整的域名服务器"><a href="#11-建立完整的域名服务器" class="headerlink" title="11.建立完整的域名服务器"></a>11.建立完整的域名服务器</h3><p>Linux下的DNS服务器用来存储主机的域名信息。包括三种：<br>（1）惟高速存域名服务器（Cache-onlyserver）<br>惟高速存域名服务器（Cache-onlyserver）不包含域名数据库。它从某个远程服务器取得每次域名服务器查询的回答，一旦取得一个回答，就将它放入高速缓存中。<br>（2）主域名服务器（PrimaryNameserver）<br>主域名服务器是特定域所有信息的权威来源。它从域管理员构造的本地文件中加载域信息，该“区文件”包含着服务器具有管理权的部分域结构的最精确的信息。主域名服务器需要配置包括一组完整的文件：主配置文件（named.conf）、正向域的区文件(named.hosts)、反向域的区文件(named.rev)、高速缓存初始化文件(named.ca)和回送文件(named.local)。<br>（3）辅助域名服务器（SecondNameServer）<br>辅助域名服务器用来从主服务器中转移一整套域信息。辅助域名服务器是可选的配置选项。区文件是从主服务器转移出的，作为磁盘文件保存在辅助域名服务器中。辅助域名服务器不需配置本地区文件。<br>说明：多数域名服务器要根据网络实际情况将以上三种服务器组合，进行合理配置。所有的域名服务器都需要一个设置惟高速缓存服务器提供名字解析。一个域只能建立一个主域名服务器，另外至少要创建一个辅助域名服务器作为主域名服务器的备份。一个域的主服务器可以是其他域的辅助域名服务器。为了提高域名系统的可靠性，应建立辅域名服务器。当主域名服务器不能正常工作的情况下，能够替代主域名服务器对外提供不间断的服务。</p>
<h3 id="12-增强DNS服务器的防范Dos-DDoS功能"><a href="#12-增强DNS服务器的防范Dos-DDoS功能" class="headerlink" title="12.增强DNS服务器的防范Dos/DDoS功能"></a>12.增强DNS服务器的防范Dos/DDoS功能</h3><p>1.使用SYNcookie</p>
<p>SYNCookie是对TCP服务器端的三次握手协议作一些修改，专门用来防范SYNFlood攻击的一种手段。它的原理是，在TCP服务器收到TCPSYN包并返回TCPSYN+ACK包时，不分配一个专门的数据区，而是根据这个SYN包计算出一个cookie值。在收到TCPACK包时，TCP服务器在根据那个cookie值检查这个TCPACK包的合法性。如果合法，再分配专门的数据区进行处理未来的TCP连接。在linux下以root权限执行：</p>
<p>2.增大backlog<br>通过增加backlog的数值，可以一定程度减缓大量SYN请求导致TCP连接阻塞的状况，一般这个数值系统默认是1024，可以增加到1280至2048：</p>
<p>这样在强度不是很高的攻击下，系统响应能力提高了一点。<br>3.缩短retries次数<br>Linux系统默认的tcp_synack_retries是5次，将这个数值减少可以提高系统响应能力，为2次：</p>
<p>修改后，SYN_RECV的数量有了少量减少，系统响应也快了一些。<br>4.限制SYN频率<br>目前比较有效的是对SYN的频率和次数进行限制，这样最大限度的控制了单个IP地址发动攻击的能力。例如将SYN请求的次数限制在30次每分钟，系统默认是5次/秒可以将burst从默认的5个降低到2个。</p>
<p>进行此操作后正常的用户无任何感觉上的差异，而并发的SYN请求量下降了不少，服务响应基本正常了。<br>5.防范SYNAttack攻击<br>SYNAttack”是一种拒绝服务（DoS）的攻击方式，会消耗掉系统中的所有资源，迫使服务器重新启动。使用下面的命令：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#echo1&gt;/proc/sys/net/ipv4/tcp_syncookies</span><br></pre></td></tr></table></figure></p>
<p>把这个命令加入”/etc/rc.d/rc.local”文件中，等下次系统重新启动的时候就可以自动生效。</p>
<h3 id="13-使用分布式DNS负载均衡"><a href="#13-使用分布式DNS负载均衡" class="headerlink" title="13.使用分布式DNS负载均衡"></a>13.使用分布式DNS负载均衡</h3><p>在众多的负载均衡架构中，基于DNS解析的负载均衡本身就拥有对DDOS（SYNFlood）的免疫力，基于DNS解析的负载均衡能将用户的请求分配到不同IP的服务器主机上，攻击者攻击的永远只是其中一台服务器，一来这样增加了攻击者的成本，二来过多的DNS请求可以帮助我们追查攻击者的真正踪迹（DNS请求不同于SYN攻击，是需要返回数据的，所以很难进行IP伪装）。但是基于DNS解析的负载均衡成本很高。很多中小公司没有部署这个技术。</p>
<h3 id="14-防范对于DNS服务器网络"><a href="#14-防范对于DNS服务器网络" class="headerlink" title="14.防范对于DNS服务器网络"></a>14.防范对于DNS服务器网络</h3><p>嗅探器技术被广泛应用于网络维护和管理方面，它工作的时候就像一部被动声纳，默默的接收看来自网络的各种信息，通过对这些数据的分析，网络管理员可以深入了解网络当前的运行状况，以便找出网络中的漏洞。在网络安全日益被注意的今天.我们不但要正确使用嗅探器。还要合理防范嗅探器的危害.嗅探器能够造成很大的安全危害，主要是因为它们不容易被发现。对于一个安全性能要求很严格的企业，同时使用安全的拓扑结构、会话加密、使用静态的ARP地址是有必要的。</p>
<h3 id="15-及时更新系统补丁"><a href="#15-及时更新系统补丁" class="headerlink" title="15.及时更新系统补丁"></a>15.及时更新系统补丁</h3><p>你应该经常到你所安装的系统发行商的主页上去找最新的补丁。目前操作系统维护主要分两种模式：对于私有操作系统（Windows/Solaris等）由于个人用户不能直接接触其源代码，其代码由公司内部开发人员维护，其安全性由同样的团队保证，内核的修正与其他应用程序一样，以patch/SP包的方式发布。对于Linux这样的开放式系统，是一种开放的结构。应该说，开放的模式是双刃剑。从机制上讲，全世界的开发人员都能获得源代码，从而找出其中的纰漏，似乎安全性应该更好;但是同时，如果网络管理人员不能及时更新内核，也会留下安全隐患。如果你是一个Linux网管员，你经常需要上相应的网站看，是否有补丁，是否有了bugfix，是否需要升级。Linux服务器运行的软件主要包括：Bind，Apache等软件大都是开源软件，而且都在不停升级，稳定版和测试版交替出现。在<a href="http://www.apache.org上，最新的changeLog中都写着：bugfix,securitybugfix的字样。所以Linux网管员要经常的关注相关网站及时升级或添加补丁。" target="_blank" rel="noopener">www.apache.org上，最新的changeLog中都写着：bugfix,securitybugfix的字样。所以Linux网管员要经常的关注相关网站及时升级或添加补丁。</a></p>
<p>##总结：<br>DNS是网络服务的基础建设，要长期不断地保持其正常运作，每一个DNS服务器都应该定期检测。域名系统的配置和管理是一项比较复杂和繁琐的系统管理任务，它对整个网络的运行影响极大。为了保证DNS服务器的安全运行，不仅要使用可靠的服务器软件版本，而且要对DNS服务器进行安全配置，同时还要跟踪服务器软件和操作系统的各种漏洞。</p>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://blog.unixmen.cn/2017/05/09/全面提升BIND-DNS服务器安全/" data-id="cjipy5f550035e0h4qks7jpk3" class="article-share-link">分享到</a><div class="tags"><a href="/tags/安全/">安全</a><a href="/tags/bind/">bind</a><a href="/tags/DNS攻击/">DNS攻击</a><a href="/tags/DNS安全加固/">DNS安全加固</a></div><div class="post-nav"><a href="/2017/05/10/Windows系统恶意软件防护引擎曝严重远程代码执行漏洞（CVE-2017-0290）/" class="pre">Windows系统恶意软件防护引擎曝严重远程代码执行漏洞（CVE-2017-0290）</a><a href="/2017/05/09/英特尔AMT功能远程提权高危漏洞（CVE-2017-5689）分析/" class="next">英特尔AMT功能远程提权高危漏洞（CVE-2017-5689）分析</a></div><div data-thread-key="2017/05/09/全面提升BIND-DNS服务器安全/" data-title="全面提升BIND DNS服务器安全" data-url="http://blog.unixmen.cn/2017/05/09/全面提升BIND-DNS服务器安全/" class="ds-share flat"><div class="ds-share-inline"><ul class="ds-share-icons-16"><li data-toggle="ds-share-icons-more"><a href="javascript:void(0);" class="ds-more">分享到：</a></li><li><a href="javascript:void(0);" data-service="weibo" class="ds-weibo">微博</a></li><li><a href="javascript:void(0);" data-service="qzone" class="ds-qzone">QQ空间</a></li><li><a href="javascript:void(0);" data-service="qqt" class="ds-qqt">腾讯微博</a></li><li><a href="javascript:void(0);" data-service="wechat" class="ds-wechat">微信</a></li></ul><div class="ds-share-icons-more"></div></div></div><div data-thread-key="2017/05/09/全面提升BIND-DNS服务器安全/" data-title="全面提升BIND DNS服务器安全" data-url="http://blog.unixmen.cn/2017/05/09/全面提升BIND-DNS服务器安全/" data-author-key="1" class="ds-thread"></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://blog.unixmen.cn"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/Centos/">Centos</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/Centos/RabbitMQ/">RabbitMQ</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/Centos/rsync/">rsync</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/Disconf/">Disconf</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/Docker/">Docker</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/ESXI/">ESXI</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/FastDFS/">FastDFS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/MongoDB/">MongoDB</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/MySQL/">MySQL</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/Nginx-OpenResty/">Nginx/OpenResty</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/Nginx-OpenResty/PHP/">PHP</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/Python/">Python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/Redis/">Redis</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/Tomcat/">Tomcat</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/Zabbix/">Zabbix</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/Zookeeper/">Zookeeper</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/Zookeeper/Dubbo/">Dubbo</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/keepalived/">keepalived</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Windows/">Windows</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Windows/Goodsync/">Goodsync</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/nginx/">nginx</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/nginx/技术文档/">技术文档</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/nginx/技术文档/Tools/">工具</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/安全/">安全</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/安全/bind/">bind</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/安全/bind/DNS/">DNS</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/技术文档/">技术文档</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/技术文档/勒索病毒/">勒索病毒</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/技术文档/勒索病毒/安全/">安全</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/技术文档/Tools/">工具</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/技术文档/Tools/Haroopad/">Haroopad</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/技术文档/Tools/Python/">Python</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/技术文档/Tools/Python/pip/">pip</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/技术文档/Tools/git/">git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/技术文档/Tools/安全/">安全</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/技术文档/Tools/容器/">容器</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/技术文档/Tools/容器/Docker私有仓库/">Docker私有仓库</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/技术文档/Tools/虚拟化/">虚拟化</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/技术文档/Tools/虚拟化/KVM/">KVM</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/技术文档/漏洞/">漏洞</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/技术文档/漏洞/安全/">安全</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/技术文档/漏洞/安全/nginx/">nginx</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/技术文档/运维/">运维</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/技术文档/运维/命令行/">命令行</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Life/">生活</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/struts2/" style="font-size: 15px;">struts2</a> <a href="/tags/Centos/" style="font-size: 15px;">Centos</a> <a href="/tags/科学上网/" style="font-size: 15px;">科学上网</a> <a href="/tags/RabbitMQ/" style="font-size: 15px;">RabbitMQ</a> <a href="/tags/Centos6/" style="font-size: 15px;">Centos6</a> <a href="/tags/系统初始化/" style="font-size: 15px;">系统初始化</a> <a href="/tags/脚本/" style="font-size: 15px;">脚本</a> <a href="/tags/docker/" style="font-size: 15px;">docker</a> <a href="/tags/容器/" style="font-size: 15px;">容器</a> <a href="/tags/Trouble-shooting/" style="font-size: 15px;">Trouble shooting</a> <a href="/tags/容器配置/" style="font-size: 15px;">容器配置</a> <a href="/tags/容器私有仓库配置/" style="font-size: 15px;">容器私有仓库配置</a> <a href="/tags/Docker私有仓库/" style="font-size: 15px;">Docker私有仓库</a> <a href="/tags/esxi/" style="font-size: 15px;">esxi</a> <a href="/tags/磁盘在线扩容/" style="font-size: 15px;">磁盘在线扩容</a> <a href="/tags/FastDFS/" style="font-size: 15px;">FastDFS</a> <a href="/tags/Haroopad/" style="font-size: 15px;">Haroopad</a> <a href="/tags/标记语言/" style="font-size: 15px;">标记语言</a> <a href="/tags/git/" style="font-size: 15px;">git</a> <a href="/tags/git-command/" style="font-size: 15px;">git command</a> <a href="/tags/git-命令行/" style="font-size: 15px;">git 命令行</a> <a href="/tags/Goodsync/" style="font-size: 15px;">Goodsync</a> <a href="/tags/跨服务器/" style="font-size: 15px;">跨服务器</a> <a href="/tags/数据同步/" style="font-size: 15px;">数据同步</a> <a href="/tags/KVM/" style="font-size: 15px;">KVM</a> <a href="/tags/资源限制/" style="font-size: 15px;">资源限制</a> <a href="/tags/性能优化/" style="font-size: 15px;">性能优化</a> <a href="/tags/MySQL5-6/" style="font-size: 15px;">MySQL5.6</a> <a href="/tags/单机多实例/" style="font-size: 15px;">单机多实例</a> <a href="/tags/MySQL5-7/" style="font-size: 15px;">MySQL5.7</a> <a href="/tags/源码编译变化/" style="font-size: 15px;">源码编译变化</a> <a href="/tags/MySQL/" style="font-size: 15px;">MySQL</a> <a href="/tags/MHA/" style="font-size: 15px;">MHA</a> <a href="/tags/MongoDB/" style="font-size: 15px;">MongoDB</a> <a href="/tags/副本集/" style="font-size: 15px;">副本集</a> <a href="/tags/分片集群/" style="font-size: 15px;">分片集群</a> <a href="/tags/openResty/" style="font-size: 15px;">openResty</a> <a href="/tags/app/" style="font-size: 15px;">app</a> <a href="/tags/多版本/" style="font-size: 15px;">多版本</a> <a href="/tags/WordPress/" style="font-size: 15px;">WordPress</a> <a href="/tags/redis/" style="font-size: 15px;">redis</a> <a href="/tags/redis-cluster/" style="font-size: 15px;">redis-cluster</a> <a href="/tags/故障报错/" style="font-size: 15px;">故障报错</a> <a href="/tags/命令行/" style="font-size: 15px;">命令行</a> <a href="/tags/历史/" style="font-size: 15px;">历史</a> <a href="/tags/history/" style="font-size: 15px;">history</a> <a href="/tags/运维/" style="font-size: 15px;">运维</a> <a href="/tags/shadowsocks/" style="font-size: 15px;">shadowsocks</a> <a href="/tags/Intel-AMT-漏洞/" style="font-size: 15px;">Intel AMT 漏洞</a> <a href="/tags/tomcat/" style="font-size: 15px;">tomcat</a> <a href="/tags/安装配置/" style="font-size: 15px;">安装配置</a> <a href="/tags/Xshell/" style="font-size: 15px;">Xshell</a> <a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/key认证/" style="font-size: 15px;">key认证</a> <a href="/tags/block-ip/" style="font-size: 15px;">block_ip</a> <a href="/tags/disconf/" style="font-size: 15px;">disconf</a> <a href="/tags/分布式/" style="font-size: 15px;">分布式</a> <a href="/tags/配置管理/" style="font-size: 15px;">配置管理</a> <a href="/tags/开篇/" style="font-size: 15px;">开篇</a> <a href="/tags/keepalived/" style="font-size: 15px;">keepalived</a> <a href="/tags/编译安装/" style="font-size: 15px;">编译安装</a> <a href="/tags/openresty/" style="font-size: 15px;">openresty</a> <a href="/tags/php/" style="font-size: 15px;">php</a> <a href="/tags/编译参数/" style="font-size: 15px;">编译参数</a> <a href="/tags/Python/" style="font-size: 15px;">Python</a> <a href="/tags/pyenv/" style="font-size: 15px;">pyenv</a> <a href="/tags/zookeeper/" style="font-size: 15px;">zookeeper</a> <a href="/tags/dubbo/" style="font-size: 15px;">dubbo</a> <a href="/tags/分布式服务/" style="font-size: 15px;">分布式服务</a> <a href="/tags/nginx/" style="font-size: 15px;">nginx</a> <a href="/tags/zabbix/" style="font-size: 15px;">zabbix</a> <a href="/tags/监控/" style="font-size: 15px;">监控</a> <a href="/tags/安全/" style="font-size: 15px;">安全</a> <a href="/tags/bind/" style="font-size: 15px;">bind</a> <a href="/tags/DNS攻击/" style="font-size: 15px;">DNS攻击</a> <a href="/tags/DNS安全加固/" style="font-size: 15px;">DNS安全加固</a> <a href="/tags/pip/" style="font-size: 15px;">pip</a> <a href="/tags/python/" style="font-size: 15px;">python</a> <a href="/tags/zabbix3-0/" style="font-size: 15px;">zabbix3.0</a> <a href="/tags/监控平台/" style="font-size: 15px;">监控平台</a> <a href="/tags/勒索病毒/" style="font-size: 15px;">勒索病毒</a> <a href="/tags/petya/" style="font-size: 15px;">petya</a> <a href="/tags/手机APP/" style="font-size: 15px;">手机APP</a> <a href="/tags/工具/" style="font-size: 15px;">工具</a> <a href="/tags/广告拦截/" style="font-size: 15px;">广告拦截</a> <a href="/tags/感恩/" style="font-size: 15px;">感恩</a> <a href="/tags/其他/" style="font-size: 15px;">其他</a> <a href="/tags/双因子认证/" style="font-size: 15px;">双因子认证</a> <a href="/tags/SSH安全加固/" style="font-size: 15px;">SSH安全加固</a> <a href="/tags/运维密码/" style="font-size: 15px;">运维密码</a> <a href="/tags/rsync/" style="font-size: 15px;">rsync</a> <a href="/tags/inotify/" style="font-size: 15px;">inotify</a> <a href="/tags/文件同步/" style="font-size: 15px;">文件同步</a> <a href="/tags/镜像源/" style="font-size: 15px;">镜像源</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/06/12/ESXI虚拟机磁盘在线扩容/">ESXI虚拟机磁盘在线扩容</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/04/配置rsync+inotify实现文件实时同步/">配置Rsync+inotify实现文件实时同步</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/05/29/pyenv安装配置/">Pyenv安装配置</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/05/07/Centos7安装配置RabbitMQ/">Centos7安装配置RabbitMQ</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/04/26/配置docker使用国内镜像源及镜像加速器/">配置Docker使用国内镜像源及镜像加速器</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/03/20/Nginx+APP接口多版本兼容/">使用Nginx来配置服务端兼容APP接口多版本</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/13/如何添加nginx开机启动/">如何添加Nginx开机启动</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/12/修复nginx漏洞（CVE-2017-7529）/">修复nginx漏洞（CVE-2017-7529）</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/29/勒索病毒袭Petya预警/">勒索病毒袭Petya预警</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/18/Git-入门及实践/">Git 入门及实践</a></li></ul></div><div class="widget"><div class="comments-title"><i class="fa fa-comment-o"> 最近评论</i></div><div data-num-items="5" data-show-avatars="0" data-show-time="1" data-show-admin="0" data-excerpt-length="32" data-show-title="1" class="ds-recent-comments"></div></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="https://linux.cn/" title="Linux中国" target="_blank">Linux中国</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">© <a href="/." rel="nofollow">Netb2c's Blog.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script>var duoshuoQuery = {short_name:'unixmen'};
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0]
        || document.getElementsByTagName('body')[0]).appendChild(ds);
})();
</script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>